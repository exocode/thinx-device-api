machine:
  node:
    version:
      5.9.0

dependencies:
  pre:
    - npm install .
    - echo "Creating cached directories (installer should do it)..."

## Customize database setup
database:
  override:
    - bash ./00-init_db_design.sh

## Customize test commands
test:
  pre:
    - bash ./01-analyze.sh
    - bash ./02-deploy.sh:
        background: true
  commands:    
    - bash ./03-test.sh
  post:
    - curl -sSL https://download.sourceclear.com/ci.sh | bash

## Customize deployment commands
deployment:
  staging:
    branch: master
    thinx:
      appname: api

## Custom notifications
notify:
  - curl -X POST --data-urlencode 'payload={"text":"THiNX integration completed."}' https://hooks.slack.com/services/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
